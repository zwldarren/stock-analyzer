services:
    stock-analyzer:
        build:
            context: ..
            dockerfile: docker/Dockerfile
        container_name: stock-analyzer
        env_file:
            - ../.env
        volumes:
            # Mount data directories for persistence
            - ../data:/app/data
            - ../reports:/app/reports
            - ../logs:/app/logs
        # Run in scheduled mode by default
        command: ["--schedule"]
        # Or run once with specific stocks:
        # command: ["--stocks", "600519,000001"]
        restart: unless-stopped
